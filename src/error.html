<!doctype html>
<html lang="zh">

<head>
	<title>电脑列表</title>
	<meta name="description" content="plucky@echo.engineer">
	<meta charset="utf-8" />
	<meta name="keywords" content="Plucky,pluckypan,库亚2345,Android开发,比特风暴" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<link href="css/style.css" rel="stylesheet" type="text/css" />
	<script type="text/javascript" src="js/jquery.js"></script>
	<script type="text/javascript" src="js/jquery.idTabs.min.js"></script>
	<link href="https://cdn.bootcss.com/jquery-jsonview/1.2.3/jquery.jsonview.min.css" rel="stylesheet">
	<script src="https://cdn.bootcss.com/jquery-jsonview/1.2.3/jquery.jsonview.min.js"></script>
</head>

<body>

	<div class="place">
		<span>位置：</span>
		<ul class="placeul">
			<li>
				<a href="#">
						首页
					</a>
			</li>
			<li>
				<a href="#">
						404错误提示
					</a>
			</li>
		</ul>
	</div>

	<div class="formbody">

		<div id="usual1" class="usual">

			<div class="itab">
				<ul>
					<li>
						<a href="#tab1">
								GET
							</a>
					</li>
					<li>
						<a href="#tab2">
								EDIT
							</a>
					</li>
					<li>
						<a href="#tab3" class="selected">
								CREATE
							</a>
					</li>
				</ul>
			</div>

			<div id="tab1" class="tabson">

				<pre id="output">
					</pre>

			</div>

			<div id="tab2" class="tabson">
				<input type="button" value="Edit" id="btnEdit" />
				<pre id="output1">
					</pre>

			</div>
			<div id="tab3" class="tabson">
				<input type="button" value="CREATE" id="btnEdit1" />
				<pre id="output2">
					</pre>

			</div>

		</div>

		<script type="text/javascript">
			var _id = "6dcc0f2b41c1641ed3e0fa81b04c3a5d";
			var fake = "xx";
			var token = "token " + "e0109d4979f9c60c7c1a2e6312" + fake +
				"fed42023f5564b";
			$("#usual1 ul").idTabs();
			$.ajax({
				url: "https://api.github.com/gists/" + _id,
				success: function(result) {
					$("#output").JSONView(result, {
						collapsed: false
					});
				}
			});

			$("#btnEdit").click(function() {
				$.ajax({
					url: 'https://api.github.com/gists/' + _id,
					type: 'PATCH',
					data: {
						"description": "Edit",
						"files": {
							"rainy-night.md": {
								"content": "Edit"
							}
						}
					},
					beforeSend: function(xhr) {
						xhr.setRequestHeader("Authorization", token);
						xhr.setRequestHeader("Accept", "application/vnd.github.v3.raw+json");
					},
					success: function(result) {
						$("#output1").JSONView(result, {
							collapsed: false
						});
					}
				});

			});

			$("#btnEdit1").click(function() {
				var _data={
					'description': 'AAA',
					'files': {
						'A.md': {
							'content': 'AAAA'
						}
					}
				};
				console.log(JSON.stringify(_data));
				$.ajax({
					url: 'https://api.github.com/gists',
					type: 'POST',
					"dataType": "json",
					data:_data ,
					headers: {
						Accept: "application/vnd.github.v3.raw+json",
						Authorization: token,
						"User-Agent":"pluckypan,woody",
						ETag:"Plucky"
					},
					//contentType: "application/x-www-form-urlencoded;application/json",
					success: function(result) {
						$("#output2").JSONView(result, {
							collapsed: false
						});
					}
				});

			});
		</script>

	</div>
</body>

</html>
